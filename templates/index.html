<!doctype html>
<html lang=\"zh-CN\">
<head>
  <meta charset=\"utf-8\" />
  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />
  <title>ChatGPT 分享页对话提取器</title>
  <link rel=\"stylesheet\" href=\"{{ url_for('static', filename='style.css') }}\">
</head>
<body>
  <div class=\"wrap card\">
    <h1>ChatGPT 分享页对话提取器</h1>
    <p class=\"sub\">两种方式：① 输入分享链接（后端代请求，<b>无跨域</b>）；② 上传分享页 HTML（本地导出后上传）。</p>
    <div class=\"row row-2\">
      <div>
        <label for=\"urlInput\">分享链接（URL）</label>
        <input id=\"urlInput\" type=\"url\" placeholder=\"https://chatgpt.com/share/....\" />
        <div class=\"hint\">允许域名：{{ allowed_hosts }}</div>
      </div>
      <div>
        <label for=\"fileInput\">或上传分享页 HTML</label>
        <input id=\"fileInput\" type=\"file\" accept=\"text/html,.html,.htm\" />
        <div class=\"hint\">把分享页保存为 .html 后上传，不受 CORS 限制。</div>
      </div>
    </div>
    <div class=\"bar\">
      <button id=\"extractBtn\" class=\"primary\">提取对话</button>
      <button id=\"clearBtn\">清空</button>
      <span class=\"status\" id=\"status\"></span>
    </div>
    <div class=\"toolbar\">
      <button id=\"downloadTxt\" class=\"accent\" disabled>下载 .txt</button>
      <button id=\"downloadJson\" class=\"accent\" disabled>下载 .json</button>
      <span class=\"small\" id=\"stats\"></span>
    </div>
    <div id=\"results\" class=\"results\"></div>
  </div>
  <script src=\"{{ url_for('static', filename='main.js') }}\"></script>
</body>
</html>
